/**
  ___             _   ___
 | __|_ _____ _ _| |_| _ )_  _ ___
 | _|\ V / -_) ' \  _| _ \ || (_-<
 |___|\_/\___|_||_\__|___/\_,_/__/
 |_|
 ------ By: Bambi Haber
 ----- haber.bambi@gmail.com
 --- https://github.com/BambiHaber/EventBus
 -- Version: 1.0.0
 - Example:

 <script type="text/javascript">
 document.addEventListener('DOMContentLoaded', () => {

    // Example with global object
    let eventBus = new EventBus();

    eventBus.listenTo('hello', () => {
        console.log('hello world from eventbus instance')
    });

    eventBus.trigger('hello');

    class Person extends EventBus {
        constructor(name) {
            super();
            this.name = name
        }

        sayHello() {
            this.trigger('speak', 'hello from ' + this.name)
        }
    }

    class MessageCenter extends EventBus {
        constructor() {
            super();
        }

        addPerson(person) {
            this.listenTo(person, 'speak', this.onSpeak.bind(this));
        }

        onSpeak(message) {
            console.log('Incoming message from someBody(Person derived class): ', message)
        }
    }


    let john = new Person('john');

    let messageCenter = new MessageCenter();
    messageCenter.addPerson(john);

    john.sayHello();
 );

 </script>
 */
var EventBus=function(){"use strict";(e={}).__proto__={a:t={}},e.a;var e,t,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s={};function r(){this.listeners=[]}return n(r,"prototype",{configurable:!1,enumerable:!1,writable:!1}),s.listenTo=function(e,t,s){var n=e,i=t,r=s;2===arguments.length&&(n=this,i=e,r=t),n.listeners.push([i,r,!1])},s.listenToOnce=function(e,t,s){var n=e,i=t,r=s;2===arguments.length&&(n=this,i=e,r=t),n.listeners.push([i,r,!0])},s.trigger=function(e,t){for(var s=0;s<this.listeners.length;s++)e===this.listeners[s][0]&&(this.listeners[s][1].apply(null,[t]),!0===this.listeners[s][2]&&this.listeners.splice(this.listeners.indexOf(this.listeners[s]),1))},s.stopListening=function(e,t){var s=e,n=t;1===arguments.length&&(s=this,n=e);for(var i=0;i<s.listeners.length;i++)s.listeners[i][0]===n&&s.listeners.splice(s.listeners.indexOf(s.listeners[i]),1)},s.killAllListeners=function(){this.listeners.length=0},function(e,t){for(var s in t)t.hasOwnProperty(s)&&n(e,s,i(t,s))}(r.prototype,s),s=void 0,r}();"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(exports=module.exports=EventBus);